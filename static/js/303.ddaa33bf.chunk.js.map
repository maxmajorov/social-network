{"version":3,"file":"static/js/303.ddaa33bf.chunk.js","mappings":"wNACA,EAAyB,2BAAzB,EAAiE,+B,SCWpDA,EAA4C,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,SAAUC,EAAS,EAATA,GAC9DC,GAAeC,EAAAA,EAAAA,IAAeC,EAAAA,IAEhCC,EAAe,YAAcJ,EAEjC,OACE,UAAC,KAAD,CAASK,GAAID,EAAME,UAAWC,EAA9B,WACE,gBACEC,IAAG,UAAKP,GAA8BQ,GACtCC,IAAI,SACJJ,UAAWL,GAAgBM,IAE5BR,M,kDCvBP,EAAgC,qCAAhC,EAAoF,oC,SCiDvEY,GAAyBC,EAAAA,EAAAA,GAA2B,CAC/DC,KAAM,kBAD8BD,EAlCqC,SACzEE,GAEA,IAAMC,GAAWC,EAAAA,EAAAA,MAWjB,OACE,kBAAMV,UAAWC,EAAuBU,SAAUH,EAAMI,aAAxD,WACE,SAACC,EAAA,EAAD,CACEC,UAAWC,EAAAA,GACXC,KAAK,aACLhB,UAAWC,EACXgB,YAAY,0BACZC,WAhByB,SAC7BC,GAEAC,QAAQC,IAAIF,EAAMG,cAAcC,OACb,KAAnBJ,EAAMK,SACFf,GAASgB,EAAAA,EAAAA,IAAgBN,EAAMG,cAAcC,QAC7CH,QAAQC,IAAI,aAWZK,SAAU,CAACC,EAAAA,GAAUC,EAAAA,IACrBC,KAAM,GACNC,KAAM,KAER,SAAC,IAAD,CAAQC,KAAK,UAAUC,MAAO,CAAEC,UAAW,QAA3C,gCAYOC,EAA8B,WACzC,IAAMzB,GAAWC,EAAAA,EAAAA,MAOjB,OACE,+BACE,SAACL,EAAD,CAAwBM,SAPX,SAACwB,GAChBA,EAASC,WACL3B,GAASgB,EAAAA,EAAAA,IAAgBU,EAASC,aAClChB,QAAQC,IAAI,wBC3DpB,EAA0B,6BCObgB,EAA8C,SAAC,GAGrD,IAFLC,EAEI,EAFJA,YAEI,EADJ5C,GAEA,OAAO,gBAAKM,UAAWC,EAAhB,SAAkCqC,K,oBCX3C,EAA0B,kCAA1B,EAA0E,sCAA1E,EAAuH,+BCyDvH,EA5CyB,WACvB,IAAMC,GAAa3C,EAAAA,EAAAA,IAAe4C,EAAAA,IAC5BC,GAAU7C,EAAAA,EAAAA,IAAe8C,EAAAA,IACzBC,GAAW/C,EAAAA,EAAAA,IAAegD,EAAAA,IAE5BC,IADanC,EAAAA,EAAAA,OACFoC,EAAAA,EAAAA,QAEfC,EAAAA,EAAAA,YAAU,WAER,OADAC,SAASC,MAAT,UACO,WAELD,SAASC,MAAT,qBAIJ,IAAMC,EAAkBT,EAAQU,KAAI,SAACC,GAAD,OAClC,SAAC5D,EAAD,CAAyBC,SAAU2D,EAAGpC,KAAMtB,GAAI0D,EAAGC,KAAlCD,EAAGC,QAGhBC,EAAkBX,EAASQ,KAAI,SAACC,GAAD,OACnC,SAACf,EAAD,CAA0BC,YAAac,EAAGG,QAAS7D,GAAI0D,EAAGC,KAAxCD,EAAGC,QAavB,OAVAN,EAAAA,EAAAA,YAAU,WACR,IAAKR,EACH,OAAOM,EAAS,qBAEjB,CAACA,EAAUN,KAOZ,kBAAMvC,UAAWC,EAAjB,WACE,gBAAKD,UAAWC,EAAhB,SAAsCiD,KACtC,4BACE,gBAAKlD,UAAWC,EAAhB,SAA+BqD,KAC/B,SAACpB,EAAD","sources":["webpack://social-network/./src/components/Dialogs/DialogItem/DialogItem.module.css?beb9","components/Dialogs/DialogItem/DialogItem.tsx","webpack://social-network/./src/components/Dialogs/MessageItem/CreateMessage/CreateMessage.module.css?d8c4","components/Dialogs/MessageItem/CreateMessage/CreateMessage.tsx","webpack://social-network/./src/components/Dialogs/MessageItem/MessageItem.module.css?481d","components/Dialogs/MessageItem/MesssageItem.tsx","webpack://social-network/./src/components/Dialogs/DialogsContainer.module.css?cc84","components/Dialogs/DialogsContainer.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"dialog\":\"DialogItem_dialog__XHWdC\",\"userAvatar\":\"DialogItem_userAvatar__b+00w\"};","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport defaultImage from \"../../../assets/img/def-image.png\";\r\nimport { profilePhotoSelect } from \"../../../bll/reducers/profile-reducer\";\r\nimport { useAppSelector } from \"../../../bll/store\";\r\nimport classes from \"./DialogItem.module.css\";\r\n\r\ntype DialogItemPropsType = {\r\n  userName: string;\r\n  id: string;\r\n};\r\n\r\nexport const DialogItem: React.FC<DialogItemPropsType> = ({ userName, id }) => {\r\n  const profilePhoto = useAppSelector(profilePhotoSelect);\r\n\r\n  let path: string = \"/dialogs/\" + id; //Путь можно вынести в переменную\r\n\r\n  return (\r\n    <NavLink to={path} className={classes.dialog}>\r\n      <img\r\n        src={`${profilePhoto ? profilePhoto : defaultImage}`}\r\n        alt=\"avatar\"\r\n        className={profilePhoto && classes.userAvatar}\r\n      />\r\n      {userName}\r\n    </NavLink>\r\n  );\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"createMessage\":\"CreateMessage_createMessage__-BzmT\",\"inputMessage\":\"CreateMessage_inputMessage__rAbrr\",\"errorMessage\":\"CreateMessage_errorMessage__b5FVt\"};","import React, { KeyboardEvent } from \"react\";\r\nimport { Field, InjectedFormProps, reduxForm } from \"redux-form\";\r\nimport { AddNewMessageAC } from \"../../../../bll/reducers/dialogs-reducer\";\r\nimport { useAppDispatch } from \"../../../../bll/store\";\r\nimport { Textarea } from \"../../../common/FormControls/FormControls\";\r\nimport {\r\n  maxLength100,\r\n  required,\r\n} from \"../../../../utils/validators/validators\";\r\nimport classes from \"./CreateMessage.module.css\";\r\nimport { Button } from \"antd\";\r\n\r\ntype FormMessageType = {\r\n  newMessage: string;\r\n};\r\n\r\nexport const CreateMessage: React.FC<InjectedFormProps<FormMessageType>> = (\r\n  props\r\n) => {\r\n  const dispatch = useAppDispatch();\r\n\r\n  const onKeyPressInputHandler = (\r\n    event: KeyboardEvent<HTMLTextAreaElement>\r\n  ) => {\r\n    console.log(event.currentTarget.value);\r\n    event.charCode === 13\r\n      ? dispatch(AddNewMessageAC(event.currentTarget.value))\r\n      : console.log(\"notEnter\");\r\n  };\r\n\r\n  return (\r\n    <form className={classes.createMessage} onSubmit={props.handleSubmit}>\r\n      <Field\r\n        component={Textarea}\r\n        name=\"newMessage\"\r\n        className={classes.inputMessage}\r\n        placeholder=\"Write something here...\"\r\n        onKeyPress={onKeyPressInputHandler}\r\n        validate={[required, maxLength100]}\r\n        cols={50}\r\n        rows={2}\r\n      ></Field>\r\n      <Button type=\"primary\" style={{ marginTop: \"10px\" }}>\r\n        send message\r\n      </Button>\r\n      {/* <button className={classes.postBtn}>Send message</button> */}\r\n    </form>\r\n  );\r\n};\r\n\r\nexport const CreateMessageReduxForm = reduxForm<FormMessageType>({\r\n  form: \"addMessageForm\",\r\n})(CreateMessage);\r\n\r\nexport const CreateMessageForm: React.FC = () => {\r\n  const dispatch = useAppDispatch();\r\n\r\n  const onSubmit = (formData: FormMessageType) => {\r\n    formData.newMessage\r\n      ? dispatch(AddNewMessageAC(formData.newMessage))\r\n      : console.log(\"Field is empty\");\r\n  };\r\n  return (\r\n    <>\r\n      <CreateMessageReduxForm onSubmit={onSubmit} />\r\n    </>\r\n  );\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"message\":\"MessageItem_message__3CUU8\"};","import React from \"react\";\r\nimport classes from \"./MessageItem.module.css\";\r\n\r\ntype MessageItemPropsType = {\r\n  id: string;\r\n  messageText: string;\r\n};\r\n\r\nexport const MessageItem: React.FC<MessageItemPropsType> = ({\r\n  messageText,\r\n  id,\r\n}) => {\r\n  return <div className={classes.message}>{messageText}</div>;\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"dialogs\":\"DialogsContainer_dialogs__d0v5F\",\"dialogsList\":\"DialogsContainer_dialogsList__9kqB2\",\"item\":\"DialogsContainer_item__+gwgC\"};","import React, { useEffect } from \"react\";\r\nimport { DialogItem } from \"./DialogItem/DialogItem\";\r\nimport { CreateMessageForm } from \"./MessageItem/CreateMessage/CreateMessage\";\r\nimport { MessageItem } from \"./MessageItem/MesssageItem\";\r\nimport { useNavigate } from \"react-router\";\r\nimport { isLoggedInSelector } from \"../../bll/reducers/auth-reducer\";\r\nimport {\r\n  AddNewMessageAC,\r\n  selectDialogs,\r\n  selectMessages,\r\n} from \"../../bll/reducers/dialogs-reducer\";\r\nimport { useAppDispatch, useAppSelector } from \"../../bll/store\";\r\nimport classes from \"./DialogsContainer.module.css\";\r\n\r\nconst DialogsContainer = () => {\r\n  const isLoggedIn = useAppSelector(isLoggedInSelector);\r\n  const dialogs = useAppSelector(selectDialogs);\r\n  const messages = useAppSelector(selectMessages);\r\n  const dispatch = useAppDispatch();\r\n  let navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    document.title = `Dialogs`;\r\n    return () => {\r\n      // cleanup\r\n      document.title = `Social Network`;\r\n    };\r\n  });\r\n\r\n  const dialogsElements = dialogs.map((el) => (\r\n    <DialogItem key={el._id} userName={el.name} id={el._id} />\r\n  ));\r\n\r\n  const messageElements = messages.map((el) => (\r\n    <MessageItem key={el._id} messageText={el.message} id={el._id} />\r\n  ));\r\n\r\n  useEffect(() => {\r\n    if (!isLoggedIn) {\r\n      return navigate(\"/authentication\");\r\n    }\r\n  }, [navigate, isLoggedIn]);\r\n\r\n  // const addNewMessageToStoreCallback = (newMessage: string) => {\r\n  //   dispatch(AddNewMessageAC(newMessage));\r\n  // };\r\n\r\n  return (\r\n    <main className={classes.dialogs}>\r\n      <div className={classes.dialogsList}>{dialogsElements}</div>\r\n      <div>\r\n        <div className={classes.item}>{messageElements}</div>\r\n        <CreateMessageForm />\r\n      </div>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default DialogsContainer;\r\n"],"names":["DialogItem","userName","id","profilePhoto","useAppSelector","profilePhotoSelect","path","to","className","classes","src","defaultImage","alt","CreateMessageReduxForm","reduxForm","form","props","dispatch","useAppDispatch","onSubmit","handleSubmit","Field","component","Textarea","name","placeholder","onKeyPress","event","console","log","currentTarget","value","charCode","AddNewMessageAC","validate","required","maxLength100","cols","rows","type","style","marginTop","CreateMessageForm","formData","newMessage","MessageItem","messageText","isLoggedIn","isLoggedInSelector","dialogs","selectDialogs","messages","selectMessages","navigate","useNavigate","useEffect","document","title","dialogsElements","map","el","_id","messageElements","message"],"sourceRoot":""}